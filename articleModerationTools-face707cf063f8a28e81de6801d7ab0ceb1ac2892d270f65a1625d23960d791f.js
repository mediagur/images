(()=>{function e(e=top.location.pathname){return e.endsWith("/mod")||e.endsWith("/mod/")}function t(t,n){function i(){document.getElementById("mod-actions-menu-btn-area").classList.remove("hidden"),document.getElementsByClassName("mod-actions-menu")[0].classList.toggle("showing");let e=document.getElementById("mod-container").contentDocument;if(e){let t=e.getElementsByClassName("close-actions-panel")[0];t&&t.classList.remove("hidden")}}let a=`\n    <iframe id="mod-container" src=${n}/actions_panel title="Moderation panel actions">\n    </iframe>\n  `;document.getElementsByClassName("mod-actions-menu")[0].innerHTML=a,e()||document.getElementsByClassName("mod-actions-menu-btn")[0].addEventListener("click",i)}var n=Object.defineProperty,i=(e,t)=>()=>(e&&(t=e(e=0)),t),a=(e,t)=>{for(var i in t)n(e,i,{get:t[i],enumerable:!0})},o=i((()=>{})),s={};a(s,{initializeActionsPanel:()=>t});var l=i((()=>{o()}));o(),getCsrfToken().then((()=>{let t=document.getElementById("article-show-container");if(t){let n=userData(),{authorId:i,path:a}=t.dataset;(async()=>{var t;let{initializeActionsPanel:o}=await Promise.resolve().then((()=>(l(),s)));(null==(t=null==n?void 0:n.policies)?void 0:t.find((e=>"js-policy-article-moderate"===e.dom_class&&!0===e.visible)))&&((null==n?void 0:n.id)!==i&&!e()||e())&&o(n,a)})()}}))})();